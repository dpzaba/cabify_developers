---
layout: default
title: Cabify Journey Resource
---

# Journey Resource

~~~
https://cabify.com/api/journey
~~~

Create and fetch journeys resources.

## Actions

 * `POST` - create a new journey without an uuid
 * `PUT` - create a new journey with a uuid
 * `GET` - fetch the details of a journey

## Authentication

Only logged in users will be allowed to request a journey. The owner will always be taken from the currently logged in user, but journeys can be requested for _anonymous_ riders and other riders with a user in the same account.

## Creating a journey

There are two ways of creating a new journey:

 * Using `POST` with a journey request body.
 * Using `PUT` with a uuid generated by the client in the path, and the request body.

When possible, we always recommend trying to create a journey using the `PUT` method with a uuid generated by the client. If for some reason when creating a journey the server receives the request but the client does not receive a response, the journey can be re-requested with the same uuid and the server will respond with the original journey instead of creating a duplicate. This is especially useful in dealing with poor networks connections, such as when connected using 3G.

The request body should be provided as JSON and using a combination of the following properties.

<table class="table">
  <thead>
    <tr>
      <th>Property</th>
      <th>Type</th>
      <th>Required?</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>start_type</code></td>
      <td>String</td>
      <td>yes</td>
      <td>
        The type of journey to start, either: `asap` for on demand journeys or `reserve` for a reservation booking for some point in the future.
      </td>
    </tr>
    <tr>
      <td><code>start_at</code></td>
      <td>Local Date</td>
      <td>only "reserve"</td>
      <td>
        When the journey should be started in the case of a reservation. Should **always** be in the local time of the user requesting the journey in ISO 8601 format without any timezone details. Our server will handle timezone conversion. Example: "2014-11-14 13:45".
      </td>
    </tr>
    <tr>
      <td><code>start_loc</code></td>
      <td>[Float, Float]</td>
      <td>yes</td>
      <td>
        Array containing latitude and longitude of the exact pick up location.
      </td>
    </tr>
    <tr>
      <td><code>start_name</code></td>
      <td>String</td>
      <td>yes</td>
      <td>
        Street name of where the passenger would like to be collected.
      </td>
    </tr>
    <tr>
      <td><code>start_city</code></td>
      <td>String</td>
      <td>no</td>
      <td>
        City name of pick up location.
      </td>
    </tr>
    <tr>
      <td><code>vehicle_type_id</code></td>
      <td>String</td>
      <td>yes</td>
      <td>
        ID of the vehicle type that the journey should search for.
      </td>
    </tr>
    <tr>
      <td><code>end_loc</code></td>
      <td>[Float, Float]</td>
      <td>no</td>
      <td>
        Array containing latitude and longitude of the approximate destination.
      </td>
    </tr>
    <tr>
      <td><code>end_name</code></td>
      <td>String</td>
      <td>no</td>
      <td>
        Street name of where the passenger would like to be dropped off.
      </td>
    </tr>
    <tr>
      <td><code>end_city</code></td>
      <td>String</td>
      <td>no</td>
      <td>
        City name of destination.
      </td>
    </tr>
    <tr>
      <td><code>message</code></td>
      <td>String</td>
      <td>no</td>
      <td>
        Message to include in the request for the driver.
      </td>
    </tr>
    <tr>
      <td><code>charge_code</code></td>
      <td>String</td>
      <td>yes/no</td>
      <td>
        Only relevant for users who require charge codes to be associated with each journey. Some corporate accounts require this value to be provided with a specific format.
      </td>
    </tr>
  </tbody>
</table>



## Response